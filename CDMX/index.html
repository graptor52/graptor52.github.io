<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mexico City Architecture Trip Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    html, body { margin: 0; padding: 0; height: 100%; }
    #map { height: 100%; }
    .legend {
      background: white;
      padding: 10px;
      line-height: 1.5;
      font-size: 14px;
      border-radius: 5px;
    }
    .legend span {
      display: inline-block;
      width: 12px;
      height: 12px;
      margin-right: 6px;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const map = L.map('map').setView([19.4326, -99.1332], 12);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    const dayColors = {
      1: "red", 2: "blue", 3: "green", 4: "purple",
      5: "orange", 6: "brown", 7: "black"
    };

    const days = {
      1: L.layerGroup(),
      2: L.layerGroup(),
      3: L.layerGroup(),
      4: L.layerGroup(),
      5: L.layerGroup(),
      6: L.layerGroup(),
      7: L.layerGroup()
    };

    const places = [
      { day:1, name:"Museo Soumaya", coords:[19.4401, -99.2042] },
      { day:1, name:"Museo Jumex", coords:[19.4407, -99.2027] },
      { day:2, name:"Bosque de Chapultepec", coords:[19.4204, -99.1913] },
      { day:2, name:"Museo Tamayo", coords:[19.4260, -99.1929] },
      { day:2, name:"Museo de Arte Moderno", coords:[19.4237, -99.1913] },
      { day:3, name:"Palacio Nacional", coords:[19.4326, -99.1304] },
      { day:3, name:"Torre Latinoamericana", coords:[19.4340, -99.1415] },
      { day:4, name:"UNAM Central Library", coords:[19.3326, -99.1860] },
      { day:4, name:"Espacio Escultórico UNAM", coords:[19.3044, -99.1893] },
      { day:5, name:"Parque La Mexicana", coords:[19.3646, -99.2775] },
      { day:5, name:"Interlomas", coords:[19.3868, -99.2696] },
      { day:6, name:"Desierto de los Leones", coords:[19.2915, -99.3145] },
      { day:7, name:"Conjunto Habitacional Tlatelolco", coords:[19.4552, -99.1407] },
      { day:7, name:"Torre Reforma", coords:[19.4284, -99.1743] },
      { day:7, name:"BBVA Bancomer Tower", coords:[19.4270, -99.1760] }
    ];

    places.forEach(place => {
      const marker = L.circleMarker(place.coords, {
        color: dayColors[place.day],
        radius: 8,
        fillOpacity: 0.8
      }).bindPopup(`<b>${place.name}</b><br>Day ${place.day}`);
      marker.addTo(days[place.day]);
    });

    const overlays = {};
    for (let d in days) {
      overlays[`Day ${d}`] = days[d];
      days[d].addTo(map); // show all by default
    }

    L.control.layers(null, overlays, { collapsed: false }).addTo(map);

    const legend = L.control({position: 'bottomright'});
    legend.onAdd = function () {
      const div = L.DomUtil.create('div', 'legend');
      div.innerHTML = "<strong>Day Colors</strong><br>" +
        Object.entries(dayColors).map(([day, color]) =>
          `<span style="background:${color}"></span>Day ${day}`
        ).join("<br>");
      return div;
    };
    legend.addTo(map);
  </script>
</body>
</html>
